require=function e(t,o,c){function n(r,s){if(!o[r]){if(!t[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){var o=t[r][1][e];return n(o?o:e)},h,h.exports,e,t,o,c)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<c.length;r++)n(c[r]);return n}({bkControl:[function(e,t,o){"use strict";cc._RFpush(t,"a2864/5HpxMQqOfSMRCoyWc","bkControl"),cc.Class({"extends":cc.Component,properties:{act:cc.Animation},onLoad:function(){this.act.play("bk-scroll")}}),cc._RFpop()},{}],boomControl:[function(e,t,o){"use strict";cc._RFpush(t,"f17bbbFNgpHN532up2BK8Jt","boomControl"),cc.Class({"extends":cc.Component,properties:{act:cc.Animation},onLoad:function(){this.act.play("boom")}}),cc._RFpop()},{}],enemyControl:[function(e,t,o){"use strict";cc._RFpush(t,"459c0raOhND7ZCGFjjbt7r1","enemyControl"),cc.Class({"extends":cc.Component,properties:{act:cc.Animation},fly:function(){this.act.play("enemy-fly")},test:function(){cc.log("a")},onLoad:function(){this.fly()}}),cc._RFpop()},{}],heroControl:[function(e,t,o){"use strict";cc._RFpush(t,"d4075KkCuJEd4a5eUsyY5uI","heroControl"),cc.Class({"extends":cc.Component,properties:{act:cc.Animation},onLoad:function(){this.act.play("hero-fly")},update:function(e){}}),cc._RFpop()},{}],main:[function(e,t,o){"use strict";cc._RFpush(t,"c0343Zi0BFEa5evexTlJ+6i","main"),cc.Class({"extends":cc.Component,properties:{hero:{"default":null,type:cc.Node},enemy:{"default":null,type:cc.Node},bullet:{"default":null,type:cc.Node},boom:{"default":null,type:cc.Node},size:null,speed:3,spCreateEnemy:2,spCreateBullet:.5,bulletArr:[],enemyArr:[]},onPlayerClick:function(e){var t=e.getLocation(),o=this.hero.getPosition(),c=this.node.convertToWorldSpaceAR(o),n=t.x-c.x;n=Math.abs(n)/300;var i=this.node.convertToNodeSpaceAR(cc.v2(t.x,t.y)),r=cc.moveTo(n,cc.p(i.x,o.y));this.hero.stopAllActions(),this.hero.runAction(r)},onCreateEnemy:function(){var e=this.enemy.getPosition(),t=Math.random()*this.size.width;t=Math.ceil(t);var o=cc.instantiate(this.enemy);this.enemyArr.push(o),this.node.addChild(o);var c=this.node.convertToNodeSpaceAR(cc.v2(t,0));o.setPosition(c.x,e.y);var n=cc.moveTo(this.speed,cc.p(c.x,-(this.size.height/2+this.enemy.height*this.enemy.scaleY/2)));o.runAction(cc.sequence(n,cc.removeSelf()))},onCreateBullet:function(){var e=this.hero.getPosition(),t=cc.instantiate(this.bullet);this.bulletArr.push(t),this.node.addChild(t),t.setPosition(e.x,e.y),t.setLocalZOrder(1);var o=cc.moveTo(this.speed,cc.p(e.x,this.size.height/2+this.bullet.height*this.bullet.scaleY/2));t.runAction(cc.sequence(o,cc.removeSelf()))},onLoad:function(){cc.director.getScene();this.size=cc.director.getVisibleSize();var e=this;this.hero.setLocalZOrder(2),this.node.on(cc.Node.EventType.TOUCH_START,function(t){e.onPlayerClick(t)}),this.schedule(function(){e.onCreateEnemy()},this.spCreateEnemy),this.schedule(function(){e.onCreateBullet()},this.spCreateBullet)},update:function(e){for(var t in this.bulletArr){var o=!0;this.bulletArr[t].isChildOf(this.node)||cc.js.array.remove(this.bulletArr,this.bulletArr[t]);for(var c in this.enemyArr){this.enemyArr[c].isChildOf(this.node)||cc.js.array.remove(this.enemyArr,this.enemyArr[c]);var n=this.bulletArr[t].getBoundingBoxToWorld();if(n.intersects(this.enemyArr[c].getBoundingBoxToWorld())){cc.log("is intersects");var i=this.bulletArr[t],r=this.enemyArr[c],s=i.getPosition(),a=cc.instantiate(this.boom);this.node.addChild(a),a.setPosition(s);cc.sequence(cc.delayTime(.5),cc.removeSelf());i.removeFromParent(),a.runAction(cc.sequence(cc.delayTime(.5),cc.removeSelf())),r.runAction(cc.sequence(cc.delayTime(.5),cc.removeSelf())),cc.js.array.remove(this.enemyArr,r),cc.js.array.remove(this.bulletArr,i),o=!1;break}}if(!o)break}}}),cc._RFpop()},{}],test:[function(e,t,o){"use strict";cc._RFpush(t,"003b2yGF25PYr7yQL111/WT","test"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var e=cc.director.getVisibleSize();cc.log(e);var t=this.node.getChildByName("enmyp1");cc.log(t);var o=t.getNodeToWorldTransformAR();cc.log(o.tx+"  "+o.ty),this.schedule(function(){var e=t.getPosition(),o=1e3*Math.random();o=Math.ceil(o);var c=cc.instantiate(t);this.node.addChild(c);var n=this.node.convertToNodeSpace(cc.v2(o,e.y));cc.log(n),c.setPosition(n)},1)}}),cc._RFpop()},{}]},{},["test","enemyControl","bkControl","main","heroControl","boomControl"]);